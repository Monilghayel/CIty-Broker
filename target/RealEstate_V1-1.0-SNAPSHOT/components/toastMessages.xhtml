<!-- /components/toastMessages.xhtml -->
<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:h="jakarta.faces.html"
              xmlns:ui="jakarta.faces.facelets"
              xmlns:f="jakarta.faces.core">

    <style>
        .toast-alert {
            position: fixed;
            top: 40px;
            right: 30px;
            z-index: 1050;
            max-width: 350px;
            min-width: 200px;
            opacity: 0.95;
        }
    </style>

    <ui:repeat value="#{facesContext.messageList}" var="msg">
        <div class="alert toast-alert 
                    #{msg.severity.ordinal eq 0 ? 'alert-info' 
                    : msg.severity.ordinal eq 1 ? 'alert-warning' 
                    : msg.severity.ordinal eq 2 ? 'alert-danger' 
                    : 'alert-secondary'}">
            #{msg.summary}
        </div>
    </ui:repeat>

    <script>
        setTimeout(() => {
            document.querySelectorAll('.toast-alert').forEach(alert => {
                alert.style.display = 'none';
            });
        }, 4000); // Auto-dismiss after 4 seconds
    </script>

</ui:component>
